<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Array Study</title>
  </head>
  <body>
    <script>
      //****** Array ******
      /*方式:  1:forEach: array.forEach(function("value", "index", "index times array"){return 要查询的值});
       *
       *      2:filter: let || const var = array.filter(function(value, index, index times array)){if(conditation){return true}};
       *                filter返回的数据是一个与原数组解构一直的数组。
       *
       *      3:map:    let || const var = array.map(function(value,index index times array)){return value};
       *                map 返回的数据是单独被重装的一个数组。
       *
       *      4:sort:   let || const var = array.sort(function(value1,value2){if(value1.prop >，<，= …… value2.prop){return 1;}else{return -1;}});
       *
       *      5:reduce: let || const var = array.reduce(function(total, value){return total + value.prop}, total's start value);
       */

      /* ES6
       *  let const var str = array.prop( (value, index, index times array) => value, index, index times array);
       *
       *  conditional(ternary) operator:
       *                 source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator
       *                 Syntax: condition ? true return : false return
       *                 1: ? => true 时 return
       *                 2: : => false 时 return
       */

      /* 例题列表
       * 例：在数组 companies 中对比 for循环  和 forEach循环。
       * 例： filter VS for循环
       * 例: 用 filter 来找到年龄大于 18 可以饮酒的人。
       * 例: 用 filter 来找到所有是 retail 的公司。
       * 例: 用 filter 来找到所有 80年代的公司。
       * 例：找到至少存在了 10 年的公司;
       * 例：将所有的公司名字放进一个单独的 数组 中。
       * 例：根据公司起始年限大小进行排列。
       * 例：算出来ages的和。
       * 例：算出所有公司总共的年限。
       * 例： combine Methods 合并使用多种 array 用法。
       */
      const companies = [
        { name: "Company One", category: "Finance", start: 1981, end: 2004 },
        { name: "Company Two", category: "Retail", start: 1992, end: 2008 },
        { name: "Company Three", category: "Auto", start: 1999, end: 2007 },
        { name: "Company Four", category: "Retail", start: 1989, end: 2010 },
        { name: "Company Five", category: "Tech", start: 2009, end: 2014 },
        { name: "Company Six", category: "Finance", start: 1987, end: 2010 },
        { name: "Company Seven", category: "Auto", start: 1986, end: 1996 },
        { name: "Company Eight", category: "Tech", start: 2011, end: 2016 },
        { name: "Company Nine", category: "Retail", start: 1981, end: 1989 }
      ];

      const ages = [33, 12, 20, 16, 5, 54, 21, 44, 61, 13, 15, 45, 64, 32];
      // forEach:
      // 例：在数组 companies 中对比 for循环  和 forEach循环。
      // for循环方式:
      //   for (i = 0; i < companies.length; i++) {
      //     console.log(companies[i]);
      //   }
      // forEach循环:
      //   companies.forEach(function(company, index, array) {
      //     console.log(companies[index]);
      //   });
      //----------------------------------------------------------------------------------------------------
      //
      // filter:
      // 例： filter VS for循环
      // for 循环 找到年龄大于18岁可以饮酒的人。
      //   let canDrink = [];
      //   for (let i = 0; i < ages.length; i++) {
      //     if (ages[i] >= 18) {
      //       canDrink.push(ages[i]);
      //     }
      //   }
      //   console.log(canDrink);
      //
      // 例：
      // 用 filter 来找到年龄大于 18 可以饮酒的人。
      // ES5:
      //   const canDrink = ages.filter(function(age) {
      //     // if (age > 18) {
      //     //   return true;
      //     // }
      //     // 或者这样简写
      //     return age > 18;
      //   });
      //   console.log(canDrink);
      // ES6:
      //   const canDrink = ages.filter(age => age > 18);
      //   console.log(canDrink);
      //
      // 例：
      // 用 filter 来找到所有是 retail 的公司。
      // ES5:
      //   const isRetail = companies.filter(function(company, index) {
      //     if (company.category === "Retail") {
      //       return true;
      //     }
      //   });
      //   console.log(isRetail);
      // ES6:
      //   const isRetail = companies.filter(
      //     company => company.category == "Retail"
      //     //这里单独定义的 company 可视为指定的是单个的数组元素 即： for循环中的 companies[i];
      //   );
      //   console.log(isRetail);
      //
      // 例：
      // 用 filter 来找到所有 80年代的公司。
      // ES5:
      //   const eCompany = companies.filter(function(company) {
      //     if (company.start >= 1980 && company.start <= 1990) {
      //       return true;
      //     }
      //   });
      //   console.log(eCompany);
      // ES6:
      //   const eCompany = companies.filter(
      //     company => company.start >= 1980 && company.start <= 1990
      //   );
      //   console.log(eCompany);
      //
      //例：找到至少存在了 10 年的公司;
      // ES5:
      //   const tenYearsCompany = companies.filter(function(company) {
      //     if (company.end - company.start >= 10) {
      //       return true;
      //     }
      //   });
      //   console.log(tenYearsCompany);
      // ES6:
      //   const tenYearsCompany = companies.filter(
      //     company => company.end - company.start >= 10
      //   );
      //   console.log(tenYearsCompany);
      //----------------------------------------------------------------------------------------------------
      //
      // map
      // 例：将所有的公司名字放进一个单独的 数组 中。
      // ES5：
      // const companyName = companies.map(function(company, index, array) {
      //   return company.name;
      // });
      // console.log(companyName);
      //
      // ES6:
      // const companyName = companies.map(company => company.name);
      // console.log(companyName);
      // 例:找到所有存在十年或十年以上的公司的名称。
      //
      // ES5：
      //第一步：先将所有年限在十年和十年以上的公司用 filter 都找出来。
      // const companyLastTenYears = companies.filter(function(TenYearsCompany) {
      //   if (TenYearsCompany.end - TenYearsCompany.start >= 10) {
      //     return true;
      //   }
      // });
      //第二步： 再将所有已经找出的十年的公司利用 map 重新整合打印出来。
      // const a = companyLastTenYears.map(function(company) {
      //   return `company name: ${
      //     company.name
      //   }, company years: ${company.start}-${company.end} <br>`;
      // });
      // document.body.innerHTML = a;
      // console.log(a);
      //
      // ES6：
      // const companyLastTenYears = companies
      //   .filter(company => company.end - company.start >= 10)
      //   .map(
      //     company =>
      //       `company name: ${company.name} last: ${company.start}-${
      //         company.end
      //       }<br>`
      //   );
      // document.body.innerHTML = companyLastTenYears;
      // console.log(companyLastTenYears);
      //----------------------------------------------------------------------------------------------------
      //
      // sort
      // 例：根据公司起始年限大小进行排列。
      // ES5:
      // const companyYears = companies.sort(function(a, b) {
      //   if (a.start > b.start) {
      //     return 1;
      //   } else {
      //     return -1;
      //   }
      // });
      // console.log(companyYears);
      //
      // ES6 01:
      // const companyYears = companies.sort((a, b) => a.start - b.start);
      // console.log(companyYears);
      //
      // ES6 02:
      // const companyYears = companies.sort((a, b) =>
      //   a.start > b.start ? 1 : -1
      // );
      // console.log(companyYears);
      //
      // 例：根据年龄大小排列年龄
      // ES5:
      // const youngToOld = ages.sort(function(a, b) {
      //   if (a > b) {
      //     return 1;
      //   } else {
      //     return -1;
      //   }
      // });
      // console.log(youngToOld);
      // ES6:
      // const youngToOld = ages.sort((a, b) => (a > b ? 1 : -1));
      // console.log(youngToOld);
      //----------------------------------------------------------------------------------------------------
      //
      // reduce:
      // 例：算出来ages的和。
      //
      // ES5 不用 reduce 用 for 循环:
      // let ageSum = 0;
      // let i;
      // for (i = 0; i < ages.length; i++) {
      //   ageSum += ages[i];
      // }
      // console.log(ageSum);
      //
      // ES5 reduce:
      // const ageSum = ages.reduce(function(total, age) {
      //   return total + age;
      // },0);
      // console.log(ageSum);
      //
      // ES6 reduce:
      // const ageSum = ages.reduce((total, age) => total + age, 0);
      // console.log(ageSum);
      //
      // 例：算出所有公司总共的年限。
      // ES5:
      // const companyTotalYear = companies.reduce(function(total, company) {
      //   return total + (company.end - company.start);
      // }, 0);
      // console.log(companyTotalYear);
      //
      // ES6:
      // const companyTotalYear = companies.reduce(
      //   (total, company) => total + (company.end - company.start),
      //   0
      // );
      // console.log(companyTotalYear);
      //
      //例： combine Methods 合并使用多种 array 用法。
      // const combined = ages
      //   .map(age => age * 2)
      //   .filter(age => age > 40)
      //   .sort((a, b) => (a > b ? 1 : -1))
      //   .reduce((total, a) => total + a, 0);
      // console.log(combined);
    </script>
  </body>
</html>
